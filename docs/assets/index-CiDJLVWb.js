(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();const bn=!1;var At=Array.isArray,mr=Array.prototype.indexOf,nn=Array.from,pr=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,Rn=Object.getOwnPropertyDescriptors,gr=Object.prototype,br=Array.prototype,rn=Object.getPrototypeOf,yn=Object.isExtensible;function yr(e){return e()}function Vt(e){for(var t=0;t<e.length;t++)e[t]()}const Te=2,jn=4,Dt=8,an=16,Re=32,Qe=64,xt=128,Ee=256,St=512,pe=1024,je=2048,et=4096,Le=8192,Lt=16384,wr=32768,ln=65536,Er=1<<17,xr=1<<19,Un=1<<20,Kt=1<<21,He=Symbol("$state"),Sr=Symbol("legacy props"),Pr=Symbol("");function zn(e){return e===this.v}function Cr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function on(e){return!Cr(e,this.v)}function kr(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Tr(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ir(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Mr(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Or(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Ar(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Dr(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Lr(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let tt=!1,Nr=!1;function qr(){tt=!0}const sn=1,un=2,Fn=4,Rr=8,jr=16,Ur=1,zr=2,Fr=4,Gr=8,Wr=16,Hr=1,Br=2,he=Symbol(),Yr="http://www.w3.org/1999/xhtml";function Gn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let Q=null;function wn(e){Q=e}function Oe(e,t=!1,n){var r=Q={p:Q,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};tt&&!t&&(Q.l={s:null,u:null,r1:[],r2:Ze(!1)}),Jn(()=>{r.d=!0})}function Ae(e){const t=Q;if(t!==null){const o=t.e;if(o!==null){var n=Z,r=H;t.e=null;try{for(var a=0;a<o.length;a++){var i=o[a];Ge(i.effect),Ie(i.reaction),fn(i.fn)}}finally{Ge(n),Ie(r)}}Q=t.p,t.m=!0}return{}}function ct(){return!tt||Q!==null&&Q.l===null}function se(e,t){if(typeof e!="object"||e===null||He in e)return e;const n=rn(e);if(n!==gr&&n!==br)return e;var r=new Map,a=At(e),i=U(0),o=H,c=h=>{var u=H;Ie(o);var f;return f=h(),Ie(u),f};return a&&r.set("length",U(e.length)),new Proxy(e,{defineProperty(h,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Ar();var d=r.get(u);return d===void 0?(d=c(()=>U(f.value)),r.set(u,d)):b(d,c(()=>se(f.value))),!0},deleteProperty(h,u){var f=r.get(u);if(f===void 0)u in h&&r.set(u,c(()=>U(he)));else{if(a&&typeof u=="string"){var d=r.get("length"),s=Number(u);Number.isInteger(s)&&s<d.v&&b(d,s)}b(f,he),En(i)}return!0},get(h,u,f){if(u===He)return e;var d=r.get(u),s=u in h;if(d===void 0&&(!s||Ve(h,u)?.writable)&&(d=c(()=>U(se(s?h[u]:he))),r.set(u,d)),d!==void 0){var _=l(d);return _===he?void 0:_}return Reflect.get(h,u,f)},getOwnPropertyDescriptor(h,u){var f=Reflect.getOwnPropertyDescriptor(h,u);if(f&&"value"in f){var d=r.get(u);d&&(f.value=l(d))}else if(f===void 0){var s=r.get(u),_=s?.v;if(s!==void 0&&_!==he)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return f},has(h,u){if(u===He)return!0;var f=r.get(u),d=f!==void 0&&f.v!==he||Reflect.has(h,u);if(f!==void 0||Z!==null&&(!d||Ve(h,u)?.writable)){f===void 0&&(f=c(()=>U(d?se(h[u]):he)),r.set(u,f));var s=l(f);if(s===he)return!1}return d},set(h,u,f,d){var s=r.get(u),_=u in h;if(a&&u==="length")for(var w=f;w<s.v;w+=1){var j=r.get(w+"");j!==void 0?b(j,he):w in h&&(j=c(()=>U(he)),r.set(w+"",j))}s===void 0?(!_||Ve(h,u)?.writable)&&(s=c(()=>U(void 0)),b(s,c(()=>se(f))),r.set(u,s)):(_=s.v!==he,b(s,c(()=>se(f))));var v=Reflect.getOwnPropertyDescriptor(h,u);if(v?.set&&v.set.call(d,f),!_){if(a&&typeof u=="string"){var y=r.get("length"),P=Number(u);Number.isInteger(P)&&P>=y.v&&b(y,P+1)}En(i)}return!0},ownKeys(h){l(i);var u=Reflect.ownKeys(h).filter(s=>{var _=r.get(s);return _===void 0||_.v!==he});for(var[f,d]of r)d.v!==he&&!(f in h)&&u.push(f);return u},setPrototypeOf(){Dr()}})}function En(e,t=1){b(e,e.v+t)}const st=new Map;function Ze(e,t){var n={f:0,v:e,reactions:null,equals:zn,rv:0,wv:0};return n}function U(e,t){const n=Ze(e);return ir(n),n}function Wn(e,t=!1){const n=Ze(e);return t||(n.equals=on),tt&&Q!==null&&Q.l!==null&&(Q.l.s??=[]).push(n),n}function b(e,t,n=!1){H!==null&&!ke&&ct()&&H.f&(Te|an)&&!Ne?.includes(e)&&Lr();let r=n?se(t):t;return Zt(e,r)}function Zt(e,t){if(!e.equals(t)){var n=e.v;ft?st.set(e,t):st.set(e,n),e.v=t,e.wv=lr(),Hn(e,je),ct()&&Z!==null&&Z.f&pe&&!(Z.f&(Re|Qe))&&(ye===null?ii([e]):ye.push(e))}return t}function Hn(e,t){var n=e.reactions;if(n!==null)for(var r=ct(),a=n.length,i=0;i<a;i++){var o=n[i],c=o.f;c&je||!r&&o===Z||(Me(o,t),c&(pe|Ee)&&(c&Te?Hn(o,et):Rt(o)))}}let Xr=!1;var xn,Bn,Yn,Xn;function $r(){if(xn===void 0){xn=window,Bn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Yn=Ve(t,"firstChild").get,Xn=Ve(t,"nextSibling").get,yn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),yn(n)&&(n.__t=void 0)}}function cn(e=""){return document.createTextNode(e)}function Pt(e){return Yn.call(e)}function Nt(e){return Xn.call(e)}function z(e,t){return Pt(e)}function rt(e,t){{var n=Pt(e);return n instanceof Comment&&n.data===""?Nt(n):n}}function X(e,t=1,n=!1){let r=e;for(;t--;)r=Nt(r);return r}function Vr(e){e.textContent=""}function Je(e){var t=Te|je,n=H!==null&&H.f&Te?H:null;return Z===null||n!==null&&n.f&Ee?t|=Ee:Z.f|=Un,{ctx:Q,deps:null,effects:null,equals:zn,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??Z}}function lt(e){const t=Je(e);return ir(t),t}function $n(e){const t=Je(e);return t.equals=on,t}function Vn(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Fe(t[n])}}function Kr(e){for(var t=e.parent;t!==null;){if(!(t.f&Te))return t;t=t.parent}return null}function Zr(e){var t,n=Z;Ge(Kr(e));try{Vn(e),t=sr(e)}finally{Ge(n)}return t}function Kn(e){var t=Zr(e),n=(ze||e.f&Ee)&&e.deps!==null?et:pe;Me(e,n),e.equals(t)||(e.v=t,e.wv=lr())}function Zn(e){Z===null&&H===null&&Ir(),H!==null&&H.f&Ee&&Z===null&&Tr(),ft&&kr()}function Jr(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function nt(e,t,n,r=!0){var a=Z,i={ctx:Q,deps:null,nodes_start:null,nodes_end:null,f:e|je,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(n)try{mn(i),i.f|=wr}catch(h){throw Fe(i),h}else t!==null&&Rt(i);var o=n&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(Un|xt))===0;if(!o&&r&&(a!==null&&Jr(i,a),H!==null&&H.f&Te)){var c=H;(c.effects??=[]).push(i)}return i}function Jn(e){const t=nt(Dt,null,!1);return Me(t,pe),t.teardown=e,t}function We(e){Zn();var t=Z!==null&&(Z.f&Re)!==0&&Q!==null&&!Q.m;if(t){var n=Q;(n.e??=[]).push({fn:e,effect:Z,reaction:H})}else{var r=fn(e);return r}}function Qr(e){return Zn(),dn(e)}function ei(e){const t=nt(Qe,e,!0);return(n={})=>new Promise(r=>{n.outro?Ct(t,()=>{Fe(t),r(void 0)}):(Fe(t),r(void 0))})}function fn(e){return nt(jn,e,!1)}function dn(e){return nt(Dt,e,!0)}function Pe(e,t=[],n=Je){const r=t.map(n);return vn(()=>e(...r.map(l)))}function vn(e,t=0){return nt(Dt|an|t,e,!0)}function ut(e,t=!0){return nt(Dt|Re,e,!0,t)}function Qn(e){var t=e.teardown;if(t!==null){const n=ft,r=H;Sn(!0),Ie(null);try{t.call(null)}finally{Sn(n),Ie(r)}}}function er(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){var r=n.next;n.f&Qe?n.parent=null:Fe(n,t),n=r}}function ti(e){for(var t=e.first;t!==null;){var n=t.next;t.f&Re||Fe(t),t=n}}function Fe(e,t=!0){var n=!1;if((t||e.f&xr)&&e.nodes_start!==null){for(var r=e.nodes_start,a=e.nodes_end;r!==null;){var i=r===a?null:Nt(r);r.remove(),r=i}n=!0}er(e,t&&!n),Ot(e,0),Me(e,Lt);var o=e.transitions;if(o!==null)for(const h of o)h.stop();Qn(e);var c=e.parent;c!==null&&c.first!==null&&tr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function tr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function Ct(e,t){var n=[];hn(e,n,!0),nr(n,()=>{Fe(e),t&&t()})}function nr(e,t){var n=e.length;if(n>0){var r=()=>--n||t();for(var a of e)a.out(r)}else t()}function hn(e,t,n){if(!(e.f&Le)){if(e.f^=Le,e.transitions!==null)for(const o of e.transitions)(o.is_global||n)&&t.push(o);for(var r=e.first;r!==null;){var a=r.next,i=(r.f&ln)!==0||(r.f&Re)!==0;hn(r,t,i?n:!1),r=a}}}function kt(e){rr(e,!0)}function rr(e,t){if(e.f&Le){e.f^=Le,e.f&pe||(e.f^=pe),dt(e)&&(Me(e,je),Rt(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&ln)!==0||(n.f&Re)!==0;rr(n,a?t:!1),n=r}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let Tt=[];function ni(){var e=Tt;Tt=[],Vt(e)}function _n(e){Tt.length===0&&queueMicrotask(ni),Tt.push(e)}let wt=!1,Jt=!1,It=null,Be=!1,ft=!1;function Sn(e){ft=e}let Et=[];let H=null,ke=!1;function Ie(e){H=e}let Z=null;function Ge(e){Z=e}let Ne=null;function ri(e){Ne=e}function ir(e){H!==null&&H.f&Kt&&(Ne===null?ri([e]):Ne.push(e))}let de=null,me=0,ye=null;function ii(e){ye=e}let ar=1,Mt=0,ze=!1;function lr(){return++ar}function dt(e){var t=e.f;if(t&je)return!0;if(t&et){var n=e.deps,r=(t&Ee)!==0;if(n!==null){var a,i,o=(t&St)!==0,c=r&&Z!==null&&!ze,h=n.length;if(o||c){var u=e,f=u.parent;for(a=0;a<h;a++)i=n[a],(o||!i?.reactions?.includes(u))&&(i.reactions??=[]).push(u);o&&(u.f^=St),c&&f!==null&&!(f.f&Ee)&&(u.f^=Ee)}for(a=0;a<h;a++)if(i=n[a],dt(i)&&Kn(i),i.wv>e.wv)return!0}(!r||Z!==null&&!ze)&&Me(e,pe)}return!1}function ai(e,t){for(var n=t;n!==null;){if(n.f&xt)try{n.fn(e);return}catch{n.f^=xt}n=n.parent}throw wt=!1,e}function li(e){return(e.f&Lt)===0&&(e.parent===null||(e.parent.f&xt)===0)}function qt(e,t,n,r){if(wt){if(n===null&&(wt=!1),li(t))throw e;return}n!==null&&(wt=!0);{ai(e,t);return}}function or(e,t,n=!0){var r=e.reactions;if(r!==null)for(var a=0;a<r.length;a++){var i=r[a];Ne?.includes(e)||(i.f&Te?or(i,t,!1):t===i&&(n?Me(i,je):i.f&pe&&Me(i,et),Rt(i)))}}function sr(e){var t=de,n=me,r=ye,a=H,i=ze,o=Ne,c=Q,h=ke,u=e.f;de=null,me=0,ye=null,ze=(u&Ee)!==0&&(ke||!Be||H===null),H=u&(Re|Qe)?null:e,Ne=null,wn(e.ctx),ke=!1,Mt++,e.f|=Kt;try{var f=(0,e.fn)(),d=e.deps;if(de!==null){var s;if(Ot(e,me),d!==null&&me>0)for(d.length=me+de.length,s=0;s<de.length;s++)d[me+s]=de[s];else e.deps=d=de;if(!ze)for(s=me;s<d.length;s++)(d[s].reactions??=[]).push(e)}else d!==null&&me<d.length&&(Ot(e,me),d.length=me);if(ct()&&ye!==null&&!ke&&d!==null&&!(e.f&(Te|et|je)))for(s=0;s<ye.length;s++)or(ye[s],e);return a!==null&&(Mt++,ye!==null&&(r===null?r=ye:r.push(...ye))),f}finally{de=t,me=n,ye=r,H=a,ze=i,Ne=o,wn(c),ke=h,e.f^=Kt}}function oi(e,t){let n=t.reactions;if(n!==null){var r=mr.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&t.f&Te&&(de===null||!de.includes(t))&&(Me(t,et),t.f&(Ee|St)||(t.f^=St),Vn(t),Ot(t,0))}function Ot(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)oi(e,n[r])}function mn(e){var t=e.f;if(!(t&Lt)){Me(e,pe);var n=Z,r=Q,a=Be;Z=e,Be=!0;try{t&an?ti(e):er(e),Qn(e);var i=sr(e);e.teardown=typeof i=="function"?i:null,e.wv=ar;var o=e.deps,c;bn&&Nr&&e.f&je}catch(h){qt(h,e,n,r||e.ctx)}finally{Be=a,Z=n}}}function si(){try{Mr()}catch(e){if(It!==null)qt(e,It,null);else throw e}}function ui(){var e=Be;try{var t=0;for(Be=!0;Et.length>0;){t++>1e3&&si();var n=Et,r=n.length;Et=[];for(var a=0;a<r;a++){var i=fi(n[a]);ci(i)}}}finally{Jt=!1,Be=e,It=null,st.clear()}}function ci(e){var t=e.length;if(t!==0)for(var n=0;n<t;n++){var r=e[n];if(!(r.f&(Lt|Le)))try{dt(r)&&(mn(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null?tr(r):r.fn=null))}catch(a){qt(a,r,null,r.ctx)}}}function Rt(e){Jt||(Jt=!0,queueMicrotask(ui));for(var t=It=e;t.parent!==null;){t=t.parent;var n=t.f;if(n&(Qe|Re)){if(!(n&pe))return;t.f^=pe}}Et.push(t)}function fi(e){for(var t=[],n=e;n!==null;){var r=n.f,a=(r&(Re|Qe))!==0,i=a&&(r&pe)!==0;if(!i&&!(r&Le)){if(r&jn)t.push(n);else if(a)n.f^=pe;else{var o=H;try{H=n,dt(n)&&mn(n)}catch(u){qt(u,n,null,n.ctx)}finally{H=o}}var c=n.first;if(c!==null){n=c;continue}}var h=n.parent;for(n=n.next;n===null&&h!==null;)n=h.next,h=h.parent}return t}function l(e){var t=e.f,n=(t&Te)!==0;if(H!==null&&!ke){if(!Ne?.includes(e)){var r=H.deps;e.rv<Mt&&(e.rv=Mt,de===null&&r!==null&&r[me]===e?me++:de===null?de=[e]:(!ze||!de.includes(e))&&de.push(e))}}else if(n&&e.deps===null&&e.effects===null){var a=e,i=a.parent;i!==null&&!(i.f&Ee)&&(a.f^=Ee)}return n&&(a=e,dt(a)&&Kn(a)),ft&&st.has(e)?st.get(e):e.v}function Ye(e){var t=ke;try{return ke=!0,e()}finally{ke=t}}const di=-7169;function Me(e,t){e.f=e.f&di|t}function vi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(He in e)Qt(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&He in n&&Qt(n)}}}function Qt(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Qt(e[r],t)}catch{}const n=rn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Rn(n);for(let a in r){const i=r[a].get;if(i)try{i.call(e)}catch{}}}}}const hi=["touchstart","touchmove"];function _i(e){return hi.includes(e)}let Pn=!1;function mi(){Pn||(Pn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ur(e){var t=H,n=Z;Ie(null),Ge(null);try{return e()}finally{Ie(t),Ge(n)}}function pi(e,t,n,r=n){e.addEventListener(t,()=>ur(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),mi()}const cr=new Set,en=new Set;function gi(e,t,n,r={}){function a(i){if(r.capture||it.call(t,i),!i.cancelBubble)return ur(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?_n(()=>{t.addEventListener(e,a,r)}):t.addEventListener(e,a,r),a}function le(e,t,n,r,a){var i={capture:r,passive:a},o=gi(e,t,n,i);(t===document.body||t===window||t===document)&&Jn(()=>{t.removeEventListener(e,o,i)})}function vt(e){for(var t=0;t<e.length;t++)cr.add(e[t]);for(var n of en)n(e)}function it(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],i=a[0]||e.target,o=0,c=e.__root;if(c){var h=a.indexOf(c);if(h!==-1&&(t===document||t===window)){e.__root=t;return}var u=a.indexOf(t);if(u===-1)return;h<=u&&(o=h)}if(i=a[o]||e.target,i!==t){pr(e,"currentTarget",{configurable:!0,get(){return i||n}});var f=H,d=Z;Ie(null),Ge(null);try{for(var s,_=[];i!==null;){var w=i.assignedSlot||i.parentNode||i.host||null;try{var j=i["__"+r];if(j!=null&&(!i.disabled||e.target===i))if(At(j)){var[v,...y]=j;v.apply(i,[e,...y])}else j.call(i,e)}catch(P){s?_.push(P):s=P}if(e.cancelBubble||w===t||w===null)break;i=w}if(s){for(let P of _)queueMicrotask(()=>{throw P});throw s}}finally{e.__root=t,delete e.currentTarget,Ie(f),Ge(d)}}}function bi(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function tn(e,t){var n=Z;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function $(e,t){var n=(t&Hr)!==0,r=(t&Br)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=bi(i?e:"<!>"+e),n||(a=Pt(a)));var o=r||Bn?document.importNode(a,!0):a.cloneNode(!0);if(n){var c=Pt(o),h=o.lastChild;tn(c,h)}else tn(o,o);return o}}function Cn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=cn();return e.append(t,n),tn(t,n),e}function W(e,t){e!==null&&e.before(t)}function qe(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function yi(e,t){return wi(e,t)}const $e=new Map;function wi(e,{target:t,anchor:n,props:r={},events:a,context:i,intro:o=!0}){$r();var c=new Set,h=d=>{for(var s=0;s<d.length;s++){var _=d[s];if(!c.has(_)){c.add(_);var w=_i(_);t.addEventListener(_,it,{passive:w});var j=$e.get(_);j===void 0?(document.addEventListener(_,it,{passive:w}),$e.set(_,1)):$e.set(_,j+1)}}};h(nn(cr)),en.add(h);var u=void 0,f=ei(()=>{var d=n??t.appendChild(cn());return ut(()=>{if(i){Oe({});var s=Q;s.c=i}a&&(r.$$events=a),u=e(d,r)||{},i&&Ae()}),()=>{for(var s of c){t.removeEventListener(s,it);var _=$e.get(s);--_===0?(document.removeEventListener(s,it),$e.delete(s)):$e.set(s,_)}en.delete(h),d!==n&&d.parentNode?.removeChild(d)}});return Ei.set(u,f),u}let Ei=new WeakMap;function Se(e,t,[n,r]=[0,0]){var a=e,i=null,o=null,c=he,h=n>0?ln:0,u=!1;const f=(s,_=!0)=>{u=!0,d(_,s)},d=(s,_)=>{c!==(c=s)&&(c?(i?kt(i):_&&(i=ut(()=>_(a))),o&&Ct(o,()=>{o=null})):(o?kt(o):_&&(o=ut(()=>_(a,[n+1,r]))),i&&Ct(i,()=>{i=null})))};vn(()=>{u=!1,t(f),u||d(null,null)},h)}function jt(e,t){return t}function xi(e,t,n,r){for(var a=[],i=t.length,o=0;o<i;o++)hn(t[o].e,a,!0);var c=i>0&&a.length===0&&n!==null;if(c){var h=n.parentNode;Vr(h),h.append(n),r.clear(),Ue(e,t[0].prev,t[i-1].next)}nr(a,()=>{for(var u=0;u<i;u++){var f=t[u];c||(r.delete(f.k),Ue(e,f.prev,f.next)),Fe(f.e,!c)}})}function Ke(e,t,n,r,a,i=null){var o=e,c={flags:t,items:new Map,first:null},h=(t&Fn)!==0;if(h){var u=e;o=u.appendChild(cn())}var f=null,d=!1,s=$n(()=>{var _=n();return At(_)?_:_==null?[]:nn(_)});vn(()=>{var _=l(s),w=_.length;d&&w===0||(d=w===0,Si(_,c,o,a,t,r,n),i!==null&&(w===0?f?kt(f):f=ut(()=>i(o)):f!==null&&Ct(f,()=>{f=null})),l(s))})}function Si(e,t,n,r,a,i,o){var c=(a&Rr)!==0,h=(a&(sn|un))!==0,u=e.length,f=t.items,d=t.first,s=d,_,w=null,j,v=[],y=[],P,x,E,k;if(c)for(k=0;k<u;k+=1)P=e[k],x=i(P,k),E=f.get(x),E!==void 0&&(E.a?.measure(),(j??=new Set).add(E));for(k=0;k<u;k+=1){if(P=e[k],x=i(P,k),E=f.get(x),E===void 0){var G=s?s.e.nodes_start:n;w=Ci(G,t,w,w===null?t.first:w.next,P,x,k,r,a,o),f.set(x,w),v=[],y=[],s=w.next;continue}if(h&&Pi(E,P,k,a),E.e.f&Le&&(kt(E.e),c&&(E.a?.unfix(),(j??=new Set).delete(E))),E!==s){if(_!==void 0&&_.has(E)){if(v.length<y.length){var J=y[0],te;w=J.prev;var oe=v[0],ue=v[v.length-1];for(te=0;te<v.length;te+=1)kn(v[te],J,n);for(te=0;te<y.length;te+=1)_.delete(y[te]);Ue(t,oe.prev,ue.next),Ue(t,w,oe),Ue(t,ue,J),s=J,w=ue,k-=1,v=[],y=[]}else _.delete(E),kn(E,s,n),Ue(t,E.prev,E.next),Ue(t,E,w===null?t.first:w.next),Ue(t,w,E),w=E;continue}for(v=[],y=[];s!==null&&s.k!==x;)s.e.f&Le||(_??=new Set).add(s),y.push(s),s=s.next;if(s===null)continue;E=s}v.push(E),w=E,s=E.next}if(s!==null||_!==void 0){for(var g=_===void 0?[]:nn(_);s!==null;)s.e.f&Le||g.push(s),s=s.next;var O=g.length;if(O>0){var B=a&Fn&&u===0?n:null;if(c){for(k=0;k<O;k+=1)g[k].a?.measure();for(k=0;k<O;k+=1)g[k].a?.fix()}xi(t,g,B,f)}}c&&_n(()=>{if(j!==void 0)for(E of j)E.a?.apply()}),Z.first=t.first&&t.first.e,Z.last=w&&w.e}function Pi(e,t,n,r){r&sn&&Zt(e.v,t),r&un?Zt(e.i,n):e.i=n}function Ci(e,t,n,r,a,i,o,c,h,u){var f=(h&sn)!==0,d=(h&jr)===0,s=f?d?Wn(a):Ze(a):a,_=h&un?Ze(o):o,w={i:_,v:s,k:i,a:null,e:null,prev:n,next:r};try{return w.e=ut(()=>c(e,s,_,u),Xr),w.e.prev=n&&n.e,w.e.next=r&&r.e,n===null?t.first=w:(n.next=w,n.e.next=w.e),r!==null&&(r.prev=w,r.e.prev=w.e),w}finally{}}function kn(e,t,n){for(var r=e.next?e.next.e.nodes_start:n,a=t?t.e.nodes_start:n,i=e.e.nodes_start;i!==r;){var o=Nt(i);a.before(i),i=o}}function Ue(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function gt(e,t,n,r,a){var i=t.$$slots?.[n],o=!1;i===!0&&(i=t[n==="default"?"children":n],o=!0),i===void 0?a!==null&&a(e):i(e,o?()=>r:r)}const Tn=[...` 	
\r\f \v\uFEFF`];function ki(e,t,n){var r=e==null?"":""+e;if(n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var i=a.length,o=0;(o=r.indexOf(a,o))>=0;){var c=o+i;(o===0||Tn.includes(r[o-1]))&&(c===r.length||Tn.includes(r[c]))?r=(o===0?"":r.substring(0,o))+r.substring(c+1):o=c}}return r===""?null:r}function Ti(e,t){return e==null?null:String(e)}function ot(e,t,n,r,a,i){var o=e.__className;if(o!==n){var c=ki(n,r,i);c==null?e.removeAttribute("class"):e.className=c,e.__className=n}else if(i&&a!==i)for(var h in i){var u=!!i[h];(a==null||u!==!!a[h])&&e.classList.toggle(h,u)}return i}function Ii(e,t,n,r){var a=e.__style;if(a!==t){var i=Ti(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return r}const Mi=Symbol("is custom element"),Oi=Symbol("is html");function at(e,t,n,r){var a=Ai(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[Pr]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Di(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ai(e){return e.__attributes??={[Mi]:e.nodeName.includes("-"),[Oi]:e.namespaceURI===Yr}}var In=new Map;function Di(e){var t=In.get(e.nodeName);if(t)return t;In.set(e.nodeName,t=[]);for(var n,r=e,a=Element.prototype;a!==r;){n=Rn(r);for(var i in n)n[i].set&&t.push(i);r=rn(r)}return t}function fr(e,t,n=t){var r=ct();pi(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Bt(e)?Yt(i):i,n(i),r&&i!==(i=t())){var o=e.selectionStart,c=e.selectionEnd;e.value=i??"",c!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(c,e.value.length))}}),Ye(t)==null&&e.value&&n(Bt(e)?Yt(e.value):e.value),dn(()=>{var a=t();Bt(e)&&a===Yt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Bt(e){var t=e.type;return t==="number"||t==="range"}function Yt(e){return e===""?null:+e}function Mn(e,t){return e===t||e?.[He]===t}function On(e={},t,n,r){return fn(()=>{var a,i;return dn(()=>{a=i,i=[],Ye(()=>{e!==n(...i)&&(t(e,...i),a&&Mn(n(...a),e)&&t(null,...a))})}),()=>{_n(()=>{i&&Mn(n(...i),e)&&t(null,...i)})}}),e}function Li(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}function dr(e=!1){const t=Q,n=t.l.u;if(!n)return;let r=()=>vi(t.s);if(e){let a=0,i={};const o=Je(()=>{let c=!1;const h=t.s;for(const u in h)h[u]!==i[u]&&(i[u]=h[u],c=!0);return c&&a++,a});r=()=>l(o)}n.b.length&&Qr(()=>{An(t,r),Vt(n.b)}),We(()=>{const a=Ye(()=>n.m.map(yr));return()=>{for(const i of a)typeof i=="function"&&i()}}),n.a.length&&We(()=>{An(t,r),Vt(n.a)})}function An(e,t){if(e.l.s)for(const n of e.l.s)l(n);t()}function Ni(e){var t=Ze(0);return function(){return arguments.length===1?(b(t,l(t)+1),arguments[0]):(l(t),e())}}function qi(e,t){var n=e.$$events?.[t.type],r=At(n)?n.slice():n==null?[]:[n];for(var a of r)a.call(this,t)}let bt=!1;function Ri(e){var t=bt;try{return bt=!1,[e(),bt]}finally{bt=t}}function Dn(e){return e.ctx?.d??!1}function Xt(e,t,n,r){var a=(n&Ur)!==0,i=!tt||(n&zr)!==0,o=(n&Gr)!==0,c=(n&Wr)!==0,h=!1,u;o?[u,h]=Ri(()=>e[t]):u=e[t];var f=He in e||Sr in e,d=o&&(Ve(e,t)?.set??(f&&t in e&&(G=>e[t]=G)))||void 0,s=r,_=!0,w=!1,j=()=>(w=!0,_&&(_=!1,c?s=Ye(r):s=r),s);u===void 0&&r!==void 0&&(d&&i&&Or(),u=j(),d&&d(u));var v;if(i)v=()=>{var G=e[t];return G===void 0?j():(_=!0,w=!1,G)};else{var y=(a?Je:$n)(()=>e[t]);y.f|=Er,v=()=>{var G=l(y);return G!==void 0&&(s=void 0),G===void 0?s:G}}if(!(n&Fr))return v;if(d){var P=e.$$legacy;return function(G,J){return arguments.length>0?((!i||!J||P||h)&&d(J?v():G),G):v()}}var x=!1,E=Wn(u),k=Je(()=>{var G=v(),J=l(E);return x?(x=!1,J):E.v=G});return o&&l(k),a||(k.equals=on),function(G,J){if(arguments.length>0){const te=J?l(k):i&&o?se(G):G;if(!k.equals(te)){if(x=!0,b(E,te),w&&s!==void 0&&(s=te),Dn(k))return G;Ye(()=>l(k))}return G}return Dn(k)?k.v:l(k)}}function pn(e){Q===null&&Gn(),tt&&Q.l!==null?Ui(Q).m.push(e):We(()=>{const t=Ye(e);if(typeof t=="function")return t})}function ji(e){Q===null&&Gn(),pn(()=>()=>Ye(e))}function Ui(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const zi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(zi);qr();const we=se({tool:{type:"select",charCount:0}}),A=se({symbols:[],groups:[],imageTabs:[],selections:[]}),gn="cypherHelperState";function xe(){const e={symbols:A.symbols,groups:A.groups,tool:we.tool,imageTabs:A.imageTabs,selections:A.selections};localStorage.setItem(gn,JSON.stringify(e))}function Fi(){const e=localStorage.getItem(gn);if(e){const t=JSON.parse(e);A.symbols=t.symbols||[],A.groups=t.groups||[],A.imageTabs=t.imageTabs||[],A.selections=t.selections||[],we.tool=t.tool||{type:"select",charCount:0}}}function Gi(){localStorage.removeItem(gn),A.symbols=[],A.groups=[],A.imageTabs=[],A.selections=[],we.tool={type:"select",charCount:0}}function Ln(e){return A.symbols=[...A.symbols,e],xe(),e.id}function Wi(e,t){A.symbols=A.symbols.map(n=>n.id===e?{...n,...t}:n),xe()}function Hi(e){A.symbols=A.symbols.filter(t=>t.id!==e),xe()}function Nn(e){we.tool={...we.tool,...e},xe()}function Bi(e){A.groups=[...A.groups,e],xe()}function Yi(){const e=new Set(A.groups.map(t=>t.char));for(let t=97;t<=122;t++){const n=String.fromCharCode(t);if(!e.has(n))return n}return"_"}function qn(e){const t={id:crypto.randomUUID(),symbols:e,char:Yi()};return Bi(t),A.symbols=A.symbols.map(n=>e.includes(n.id)?{...n,groupId:t.id,char:t.char}:n),xe(),t}function $t(e,t){const n=A.groups.find(r=>r.id===e);n&&n.symbols.push(t),A.symbols=A.symbols.map(r=>r.id===t?{...r,groupId:e}:r),xe()}function Xi(e){A.groups=A.groups.filter(t=>t.id!==e),xe()}function vr(e,t){console.log("updategroup maybe?"),A.groups=A.groups.map(r=>r.id===e?{...r,...t}:r);let n=t.char?t.char:"_";A.symbols=A.symbols.map(r=>r.groupId===e?{...r,char:n}:r),xe()}function $i(e){A.selections=[...A.selections,e],xe()}function Vi(e){A.selections=A.selections.filter(t=>t.id!==e),xe()}Fi();var Ki=$('<button class="clear-button svelte-1aals0y"> </button>');function Zi(e,t){Oe(t,!0);let n=U(!1),r=U("Limpiar datos");var a;function i(){l(n)?(b(r,"Limpiando..."),b(n,!0),Gi(),clearTimeout(a),a=window.setTimeout(()=>{b(r,"Limpiar datos"),b(n,!1)},500)):(b(r,"Seguro?"),b(n,!0),clearTimeout(a),a=window.setTimeout(()=>{b(r,"Limpiar datos"),b(n,!1)},1e3))}var o=Ki();o.__click=i;var c=z(o);Pe(()=>qe(c,l(r))),W(e,o),Ae()}vt(["click"]);function Ji(e,t){b(t,"Guardando..."),xe(),window.setTimeout(()=>{b(t,"Guardar estado")},500)}var Qi=$('<button class="save-button svelte-1y3a0kf"> </button>');function ea(e,t){Oe(t,!0);let n=U("Guardar estado");var r=Qi();r.__click=[Ji,n];var a=z(r);Pe(()=>qe(a,l(n))),W(e,r),Ae()}vt(["click"]);function ta(e,t){const n=e.target;if(n.files&&n.files[0]){const r=n.files[0],a=new FileReader;a.onload=i=>{t.callbackFileUpload({id:crypto.randomUUID(),name:r.name,imageUrl:i.target?.result})},a.readAsDataURL(r)}}var na=()=>document.getElementById("image-upload")?.click(),ra=$('<div class="toolbar svelte-zpv13x"><div class="upload-container svelte-zpv13x"><input type="file" accept="image/*" id="image-upload" class="hidden svelte-zpv13x"> <button class="upload-button svelte-zpv13x">Upload Image</button></div> <!> <!></div>');function ia(e,t){Oe(t,!0);var n=ra(),r=z(n),a=z(r);a.__change=[ta,t];var i=X(a,2);i.__click=[na];var o=X(r,2);ea(o,{});var c=X(o,2);Zi(c,{}),W(e,n),Ae()}vt(["change","click"]);var aa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hr={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(aa,function(){return(()=>{var n={870:(i,o,c)=>{c.r(o),c.d(o,{createEndpoint:()=>u,expose:()=>w,proxy:()=>G,proxyMarker:()=>h,releaseProxy:()=>f,transfer:()=>k,transferHandlers:()=>_,windowEndpoint:()=>J,wrap:()=>v});const h=Symbol("Comlink.proxy"),u=Symbol("Comlink.endpoint"),f=Symbol("Comlink.releaseProxy"),d=Symbol("Comlink.thrown"),s=g=>typeof g=="object"&&g!==null||typeof g=="function",_=new Map([["proxy",{canHandle:g=>s(g)&&g[h],serialize(g){const{port1:O,port2:B}=new MessageChannel;return w(g,O),[B,[B]]},deserialize:g=>(g.start(),v(g))}],["throw",{canHandle:g=>s(g)&&d in g,serialize({value:g}){let O;return O=g instanceof Error?{isError:!0,value:{message:g.message,name:g.name,stack:g.stack}}:{isError:!1,value:g},[O,[]]},deserialize(g){throw g.isError?Object.assign(new Error(g.value.message),g.value):g.value}}]]);function w(g,O=self){O.addEventListener("message",function B(V){if(!V||!V.data)return;const{id:ce,type:ge,path:ee}=Object.assign({path:[]},V.data),ae=(V.data.argumentList||[]).map(oe);let ne;try{const I=ee.slice(0,-1).reduce((Y,L)=>Y[L],g),D=ee.reduce((Y,L)=>Y[L],g);switch(ge){case 0:ne=D;break;case 1:I[ee.slice(-1)[0]]=oe(V.data.value),ne=!0;break;case 2:ne=D.apply(I,ae);break;case 3:ne=G(new D(...ae));break;case 4:{const{port1:Y,port2:L}=new MessageChannel;w(g,L),ne=k(Y,[Y])}break;case 5:ne=void 0}}catch(I){ne={value:I,[d]:0}}Promise.resolve(ne).catch(I=>({value:I,[d]:0})).then(I=>{const[D,Y]=te(I);O.postMessage(Object.assign(Object.assign({},D),{id:ce}),Y),ge===5&&(O.removeEventListener("message",B),j(O))})}),O.start&&O.start()}function j(g){(function(O){return O.constructor.name==="MessagePort"})(g)&&g.close()}function v(g,O){return P(g,[],O)}function y(g){if(g)throw new Error("Proxy has been released and is not useable")}function P(g,O=[],B=function(){}){let V=!1;const ce=new Proxy(B,{get(ge,ee){if(y(V),ee===f)return()=>ue(g,{type:5,path:O.map(ae=>ae.toString())}).then(()=>{j(g),V=!0});if(ee==="then"){if(O.length===0)return{then:()=>ce};const ae=ue(g,{type:0,path:O.map(ne=>ne.toString())}).then(oe);return ae.then.bind(ae)}return P(g,[...O,ee])},set(ge,ee,ae){y(V);const[ne,I]=te(ae);return ue(g,{type:1,path:[...O,ee].map(D=>D.toString()),value:ne},I).then(oe)},apply(ge,ee,ae){y(V);const ne=O[O.length-1];if(ne===u)return ue(g,{type:4}).then(oe);if(ne==="bind")return P(g,O.slice(0,-1));const[I,D]=x(ae);return ue(g,{type:2,path:O.map(Y=>Y.toString()),argumentList:I},D).then(oe)},construct(ge,ee){y(V);const[ae,ne]=x(ee);return ue(g,{type:3,path:O.map(I=>I.toString()),argumentList:ae},ne).then(oe)}});return ce}function x(g){const O=g.map(te);return[O.map(V=>V[0]),(B=O.map(V=>V[1]),Array.prototype.concat.apply([],B))];var B}const E=new WeakMap;function k(g,O){return E.set(g,O),g}function G(g){return Object.assign(g,{[h]:!0})}function J(g,O=self,B="*"){return{postMessage:(V,ce)=>g.postMessage(V,B,ce),addEventListener:O.addEventListener.bind(O),removeEventListener:O.removeEventListener.bind(O)}}function te(g){for(const[O,B]of _)if(B.canHandle(g)){const[V,ce]=B.serialize(g);return[{type:3,name:O,value:V},ce]}return[{type:0,value:g},E.get(g)||[]]}function oe(g){switch(g.type){case 3:return _.get(g.name).deserialize(g.value);case 0:return g.value}}function ue(g,O,B){return new Promise(V=>{const ce=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");g.addEventListener("message",function ge(ee){ee.data&&ee.data.id&&ee.data.id===ce&&(g.removeEventListener("message",ge),V(ee.data))}),g.start&&g.start(),g.postMessage(Object.assign({id:ce},O),B)})}},162:function(i,o,c){var h=this&&this.__createBinding||(Object.create?function(v,y,P,x){x===void 0&&(x=P),Object.defineProperty(v,x,{enumerable:!0,get:function(){return y[P]}})}:function(v,y,P,x){x===void 0&&(x=P),v[x]=y[P]}),u=this&&this.__setModuleDefault||(Object.create?function(v,y){Object.defineProperty(v,"default",{enumerable:!0,value:y})}:function(v,y){v.default=y}),f=this&&this.__importStar||function(v){if(v&&v.__esModule)return v;var y={};if(v!=null)for(var P in v)P!=="default"&&Object.prototype.hasOwnProperty.call(v,P)&&h(y,v,P);return u(y,v),y};Object.defineProperty(o,"__esModule",{value:!0}),o.createDbWorker=void 0;const d=f(c(870));async function s(v){if(v.data&&v.data.action==="eval"){const y=new Int32Array(v.data.notify,0,2),P=new Uint8Array(v.data.notify,8);let x;try{x={ok:await j(v.data.request)}}catch(k){console.error("worker request error",v.data.request,k),x={err:String(k)}}const E=new TextEncoder().encode(JSON.stringify(x));P.set(E,0),y[1]=E.length,Atomics.notify(y,0)}}function _(v){if(v.tagName==="BODY")return"body";const y=[];for(;v.parentElement&&v.tagName!=="BODY";){if(v.id){y.unshift("#"+v.id);break}{let P=1,x=v;for(;x.previousElementSibling;)x=x.previousElementSibling,P++;y.unshift(v.tagName.toLowerCase()+":nth-child("+P+")")}v=v.parentElement}return y.join(" > ")}function w(v){return Object.keys(v)}async function j(v){if(console.log("dom vtable request",v),v.type==="select")return[...document.querySelectorAll(v.selector)].map(y=>{const P={};for(const x of v.columns)x==="selector"?P.selector=_(y):x==="parent"?y.parentElement&&(P.parent=y.parentElement?_(y.parentElement):null):x==="idx"||(P[x]=y[x]);return P});if(v.type==="insert"){if(!v.value.parent)throw Error('"parent" column must be set when inserting');const y=document.querySelectorAll(v.value.parent);if(y.length===0)throw Error(`Parent element ${v.value.parent} could not be found`);if(y.length>1)throw Error(`Parent element ${v.value.parent} ambiguous (${y.length} results)`);const P=y[0];if(!v.value.tagName)throw Error("tagName must be set for inserting");const x=document.createElement(v.value.tagName);for(const E of w(v.value))if(v.value[E]!==null){if(E==="tagName"||E==="parent")continue;if(E==="idx"||E==="selector")throw Error(`${E} can't be set`);x[E]=v.value[E]}return P.appendChild(x),null}if(v.type==="update"){const y=document.querySelector(v.value.selector);if(!y)throw Error(`Element ${v.value.selector} not found!`);const P=[];for(const x of w(v.value)){const E=v.value[x];if(x!=="parent"){if(x!=="idx"&&x!=="selector"&&E!==y[x]){if(console.log("SETTING ",x,y[x],"->",E),x==="tagName")throw Error("can't change tagName");P.push(x)}}else if(E!==_(y.parentElement)){const k=document.querySelectorAll(E);if(k.length!==1)throw Error(`Invalid target parent: found ${k.length} matches`);k[0].appendChild(y)}}for(const x of P)y[x]=v.value[x];return null}throw Error(`unknown request ${v.type}`)}d.transferHandlers.set("WORKERSQLPROXIES",{canHandle:v=>!1,serialize(v){throw Error("no")},deserialize:v=>(v.start(),d.wrap(v))}),o.createDbWorker=async function(v,y,P,x=1/0){const E=new Worker(y),k=d.wrap(E),G=await k.SplitFileHttpDatabase(P,v,void 0,x);return E.addEventListener("message",s),{db:G,worker:k,configs:v}}},432:function(i,o,c){var h=this&&this.__createBinding||(Object.create?function(f,d,s,_){_===void 0&&(_=s),Object.defineProperty(f,_,{enumerable:!0,get:function(){return d[s]}})}:function(f,d,s,_){_===void 0&&(_=s),f[_]=d[s]}),u=this&&this.__exportStar||function(f,d){for(var s in f)s==="default"||Object.prototype.hasOwnProperty.call(d,s)||h(d,f,s)};Object.defineProperty(o,"__esModule",{value:!0}),u(c(162),o)}},r={};function a(i){var o=r[i];if(o!==void 0)return o.exports;var c=r[i]={exports:{}};return n[i].call(c.exports,c,c.exports,a),c.exports}return a.d=(i,o)=>{for(var c in o)a.o(o,c)&&!a.o(i,c)&&Object.defineProperty(i,c,{enumerable:!0,get:o[c]})},a.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),a.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a(432)})()})})(hr);var la=hr.exports;const oa=new URL("https://moimolcp.github.io/FrostDecoder/assets/sqlite.worker-DMS32ee_.js",import.meta.url),sa=new URL("https://moimolcp.github.io/FrostDecoder/assets/sql-wasm-Bv7gRpUo.wasm",import.meta.url),ua={from:"inline",config:{serverMode:"full",requestChunkSize:4096,url:"/FrostDecoder/words.db"}};await la.createDbWorker([ua],oa.toString(),sa.toString());var ca=(e,t,n)=>t()(l(n)),fa=$('<div class="result-item svelte-1dthjzy"><span class="word svelte-1dthjzy"> </span></div>'),da=$('<div class="search-results svelte-1dthjzy"><div class="results-header svelte-1dthjzy"><h3 class="svelte-1dthjzy">Possible Words</h3> <span class="count svelte-1dthjzy"> </span></div> <div class="results-list svelte-1dthjzy"></div></div>');function va(e,t){Oe(t,!1);let n=Xt(t,"results",24,()=>[]),r=Xt(t,"onSelect",8),a=Xt(t,"style",8,"");dr();var i=da(),o=z(i),c=X(z(o),2),h=z(c),u=X(o,2);Ke(u,5,n,jt,(f,d)=>{var s=fa();s.__click=[ca,r,d];var _=z(s),w=z(_);Pe(()=>qe(w,l(d))),W(f,s)}),Pe(()=>{Ii(i,a()),qe(h,`${n().length??""} results`)}),W(e,i),Ae()}vt(["click"]);var ha=$("<button> </button>"),_a=$('<div class="image-container svelte-nhgobj"><canvas class="svelte-nhgobj"></canvas></div>'),ma=$('<div class="tabs-container svelte-nhgobj"><div class="tab-list svelte-nhgobj"></div> <div class="tab-content svelte-nhgobj"><!></div></div>'),pa=$('<div class="empty-state svelte-nhgobj">Upload an image to get started</div>'),ga=$('<div class="viewer-container svelte-nhgobj"><!></div> <!>',1);function ba(e,t){Oe(t,!0);let n=lt(()=>t.imageTabs[0]?.id),r=null,a=U(null),i=U(null),o,c=U(null),h=U(se({width:0,height:0})),u,f,d=se({x:0,y:0}),s=U(1),_=U(!1),w=U(se({x:0,y:0})),j=U(!1),v=U(!1),y=U(0),P=U(!1),x=U(null),E=U(null),k=U(null),G=se([]),J=U(!1),te=se({x:0,y:0}),oe=se([]);function ue(){if(o){const p=o.getBoundingClientRect();b(h,{width:p.width,height:p.height},!0)}}function g(){ue()}function O(p){const m=parseInt(p.key);!isNaN(m)&&m>=1&&m<=9&&(b(y,m,!0),b(j,!0),we.tool.type="grid",we.tool.charCount=m)}pn(()=>{window.addEventListener("resize",g),window.addEventListener("keypress",O),ue(),u&&(f=u.getContext("2d"),window.addEventListener("resize",()=>{requestAnimationFrame(L)}),l(ve)?.imageUrl&&V(l(ve).imageUrl))}),ji(()=>{window.removeEventListener("resize",g),window.removeEventListener("keypress",O),window.removeEventListener("resize",()=>{requestAnimationFrame(L)})});function B(){if(!l(c)||!u)return{width:0,height:0,x:0,y:0,scale:1};const p=u.getBoundingClientRect(),m=l(c).naturalWidth/l(c).naturalHeight,T=p.width/p.height;let S,C;return T>m?(C=p.height,S=C*m):(S=p.width,C=S/m),S*=l(s),C*=l(s),{width:S,height:C,x:d.x,y:d.y,scale:S/l(c).naturalWidth}}function V(p){const m=new Image;m.onload=()=>{b(c,m,!0),u&&!f&&(f=u.getContext("2d")),requestAnimationFrame(()=>{L()})},m.src=p}We(()=>{l(ve)?.imageUrl&&V(l(ve).imageUrl)}),We(()=>{A.selections.length,L()});function ce(p){b(n,p,!0)}function ge(p){p.preventDefault();const m=.1,T=ee(p),S=l(s);b(s,Math.min(Math.max(.1,l(s)-p.deltaY*m/100),5),!0);const C=l(s)-S;d.x-=(T.x-d.x)*(C/S),d.y-=(T.y-d.y)*(C/S),L()}function ee(p){const m=u.getBoundingClientRect();return{x:p.clientX-m.left,y:p.clientY-m.top}}function ae(p,m){const T=B(),S=(p-T.x)/T.scale,C=(m-T.y)/T.scale;return{x:S,y:C}}function ne(p){if(!u||!f||!l(c))return;const m=ee(p),T=ae(m.x,m.y);if(p.button===1||p.button===2){b(_,!0),b(w,m,!0),u.style.cursor="grab";return}if(we.tool.type==="delete"){const C=B(),N=A.selections.find(M=>{const q=d.x+M.xPercent*C.width/100,R=d.y+M.yPercent*C.height/100,F=M.widthPercent*C.width/100,K=M.heightPercent*C.height/100;return m.x>=q&&m.x<=q+F&&m.y>=R&&m.y<=R+K});N&&(N.symbolIds&&N.symbolIds.forEach(M=>{Hi(M)}),Vi(N.id),L());return}if(we.tool.type==="search"){let C="";A.selections.forEach(N=>{C+=" "+N.symbolIds?.map(M=>A.groups.find(R=>R.symbols.includes(M))?.char||"_").join("")||""}),console.log(C),navigator.clipboard.writeText(C);return}const S=B();for(const C of A.selections){const N=C.gridCells;if(N){const M=d.x+C.xPercent*S.width/100,q=d.y+C.yPercent*S.height/100,R=C.widthPercent*S.width/100,F=C.heightPercent*S.height/100;N.forEach((K,ie)=>{if(ie<N.length-1){const be=M+R*K.startPercent/100+R*K.widthPercent/100,_e=q+F/2;if(Math.abs(m.x-be)<5&&Math.abs(m.y-_e)<5){b(P,!0),b(x,ie,!0),b(E,m.x,!0),b(k,C.id,!0);return}}})}}l(P)||p.button===0&&Xe(m.x,m.y)&&(b(a,T,!0),b(i,{...T},!0),L())}function I(p){const m=ee(p);if(l(P)&&l(x)!==null&&l(E)!==null&&l(k)){const T=m.x-l(E),S=A.selections.find(C=>C.id===l(k));if(S&&S.gridCells){const C=B(),N=S.widthPercent*C.width/100,M=T/N*100,q=[...S.gridCells],R=q[l(x)],F=q[l(x)+1],K=1;(Math.min(R.widthPercent-K,F.widthPercent+M-K)>0||M<0)&&(R.widthPercent+=M,F.startPercent+=M,F.widthPercent-=M),S.gridCells=q,b(E,m.x,!0),L(),Ut(S).catch(be=>{console.error("Error updating grid symbols:",be)})}}else l(_)?(d.x+=m.x-l(w).x,d.y+=m.y-l(w).y,b(w,m,!0),L()):l(a)&&(b(i,ae(m.x,m.y),!0),L())}function D(p){if(l(P)){b(P,!1),b(x,null),b(E,null),b(k,null);return}if(l(_)){b(_,!1),u.style.cursor="default";return}if(!l(a)||!l(i)||!u||!l(c))return;const m=Math.min(l(a).x,l(i).x)/l(c).naturalWidth*100,T=Math.min(l(a).y,l(i).y)/l(c).naturalHeight*100,S=Math.abs(l(i).x-l(a).x)/l(c).naturalWidth*100,C=Math.abs(l(i).y-l(a).y)/l(c).naturalHeight*100;if(S>.1&&C>.1){const N={id:crypto.randomUUID(),xPercent:m,yPercent:T,widthPercent:S,heightPercent:C,symbolIds:[],isPermanent:!1};l(j)?(N.gridCells=Array.from({length:l(y)},(M,q)=>({startPercent:q*100/l(y),widthPercent:100/l(y)})),Ce(N)):Y(N),$i(N)}b(a,null),b(i,null),L()}function Y(p){if(!l(ve))return;const m=document.createElement("canvas"),T=m.getContext("2d");if(!T)return;const S=new Image;S.src=l(ve).imageUrl,S.onload=async()=>{const C=p.xPercent/100*S.naturalWidth,N=p.yPercent/100*S.naturalHeight,M=p.widthPercent/100*S.naturalWidth,q=p.heightPercent/100*S.naturalHeight;m.width=M,m.height=q,T.drawImage(S,C,N,M,q,0,0,M,q);const R=m.toDataURL("image/png"),F=Ln({id:crypto.randomUUID(),imageUrl:R,char:""});p.symbolIds=[F]}}function L(){if(!u||!f||!l(c))return;const p=o.getBoundingClientRect();u.width=p.width,u.height=p.height,f.clearRect(0,0,u.width,u.height);const m=B();try{f.drawImage(l(c),m.x,m.y,m.width,m.height),fe(m.width,m.height)}catch(T){console.error("Error dibujando en el canvas:",T)}}function re(p,m){}function fe(p,m){if(!f||!l(c))return;const S=B().scale;if(A.selections.forEach(C=>{const N=d.x+C.xPercent*p/100,M=d.y+C.yPercent*m/100,q=C.widthPercent*p/100,R=C.heightPercent*m/100;De(N,M,q,R,!0,C.gridCells,C.symbolIds)}),l(a)&&l(i)){const C=Math.min(l(a).x,l(i).x)*S+d.x,N=Math.min(l(a).y,l(i).y)*S+d.y,M=Math.abs(l(i).x-l(a).x)*S,q=Math.abs(l(i).y-l(a).y)*S;if(l(j)&&l(y)>0){const R=Array.from({length:l(y)},(F,K)=>({startPercent:K*100/l(y),widthPercent:100/l(y)}));De(C,N,M,q,!1,R)}else De(C,N,M,q)}}function De(p,m,T,S,C,N,M){f&&(f.save(),f.fillStyle="rgba(0, 123, 255, 0.3)",f.strokeStyle="rgba(0, 123, 255, 0.8)",f.lineWidth=2,f.fillRect(p,m,T,S),f.strokeRect(p,m,T,S),N&&f&&(f.strokeStyle="rgba(255, 255, 255, 0.8)",f.lineWidth=1,N.forEach((q,R)=>{const F=p+T*q.startPercent/100,K=T*q.widthPercent/100;if(M&&M[R]&&f){const ie=M[R];A.groups.some(_e=>_e.symbols.includes(ie))&&(f.fillStyle="rgba(255, 62, 0, 0.4)",f.fillRect(F,m,K,S))}if(R<N.length-1&&f){const ie=F+K;f.beginPath(),f.moveTo(ie,m),f.lineTo(ie,m+S),f.stroke(),f.fillStyle="white",f.strokeStyle="rgba(0, 123, 255, 0.8)",f.beginPath(),f.arc(ie,m+S/2,4,0,Math.PI*2),f.fill(),f.stroke()}})),f.restore())}function Xe(p,m){if(!l(c))return!1;const T=B();return p>=T.x&&p<=T.x+T.width&&m>=T.y&&m<=T.y+T.height}We(()=>{we.tool.type==="grid"?(b(j,!0),b(y,we.tool.charCount,!0)):we.tool.type==="delete"?b(v,!0):b(j,!1)});function Ce(p){if(!l(ve))return;const m=new Image;m.src=l(ve).imageUrl;const T=p.xPercent/100*m.naturalWidth,S=p.yPercent/100*m.naturalHeight,C=p.widthPercent/100*m.naturalWidth,N=p.heightPercent/100*m.naturalHeight,M=[];for(let q=0;q<(p.gridCells?.length??0);q++){const R=p.gridCells?.[q];if(!R)continue;const F=document.createElement("canvas"),K=F.getContext("2d");if(!K)continue;const ie=T+C*R.startPercent/100,be=C*R.widthPercent/100;F.width=be,F.height=N,K.drawImage(m,ie,S,be,N,0,0,be,N);const _e=F.toDataURL("image/png"),Ht=Ln({id:crypto.randomUUID(),imageUrl:_e,char:String.fromCharCode(65+q)});M.push(Ht)}p.symbolIds=M}async function Ut(p){if(!l(ve)||!p.gridCells||!p.symbolIds)return;const m=new Image;m.src=l(ve).imageUrl,await new Promise(T=>{m.onload=async()=>{const S=p.xPercent/100*m.naturalWidth,C=p.yPercent/100*m.naturalHeight,N=p.widthPercent/100*m.naturalWidth,M=p.heightPercent/100*m.naturalHeight;for(let q=0;q<p.gridCells.length;q++){const R=p.gridCells[q],F=p.symbolIds[q],K=document.createElement("canvas"),ie=K.getContext("2d");if(!ie)continue;const be=S+N*R.startPercent/100,_e=N*R.widthPercent/100;K.width=_e,K.height=M,ie.drawImage(m,be,C,_e,M,0,0,_e,M);const Ht=K.toDataURL("image/png");Wi(F,{imageUrl:Ht}),await new Promise(_r=>setTimeout(_r,50))}T(null)}})}const ve=lt(()=>t.imageTabs.find(p=>p.id===l(n)));function zt(p){oe.length>0&&(console.log("Selected word:",p,"for symbols:",oe),b(J,!1))}We(()=>{A.imageTabs.length>0&&!l(n)&&b(n,A.imageTabs[0].id,!0)});var ht=ga(),_t=rt(ht),Ft=z(_t);{var mt=p=>{var m=ma(),T=z(m);Ke(T,21,()=>t.imageTabs,jt,(M,q)=>{var R=ha();let F;var K=z(R);Pe(ie=>{F=ot(R,1,"tab-button svelte-nhgobj",null,F,ie),qe(K,l(q).name)},[()=>({active:l(n)===l(q).id})]),le("click",R,()=>ce(l(q).id)),W(M,R)});var S=X(T,2),C=z(S);{var N=M=>{var q=_a(),R=z(q);On(R,F=>u=F,()=>u),On(q,F=>o=F,()=>o),le("mousedown",R,ne),le("mousemove",R,I),le("mouseup",R,D),le("mouseleave",R,D),le("wheel",R,ge),le("contextmenu",R,Li(function(F){qi.call(this,t,F)})),W(M,q)};Se(C,M=>{l(ve)&&M(N)})}W(p,m)},Gt=p=>{var m=pa();W(p,m)};Se(Ft,p=>{t.imageTabs.length>0?p(mt):p(Gt,!1)})}var pt=X(_t,2);{var Wt=p=>{va(p,{get results(){return G},onSelect:zt,get style(){return`position: fixed; left: ${te.x??""}px; top: ${te.y??""}px; z-index: 1000;`}})};Se(pt,p=>{l(J)&&p(Wt)})}W(e,ht),Ae()}var ya=$('<div style="color: #666;">Tools will appear here</div>'),wa=$('<div style="color: #666;">No symbols created yet</div>'),Ea=$('<div class="layout svelte-1k3wx10"><div class="toolbar svelte-1k3wx10"><!></div> <div class="content svelte-1k3wx10"><div class="tools-panel svelte-1k3wx10"><!></div> <div class="main-content svelte-1k3wx10"><!></div> <div class="panel-resizer svelte-1k3wx10" data-panel="symbols"></div> <div class="symbols-panel svelte-1k3wx10"><!></div></div></div>');function xa(e,t){Oe(t,!0);let n=U(!1),r=U(null),a=U(0),i=U(0);function o(E,k){if(!E.target.closest(".panel-resizer"))return;E.preventDefault(),b(n,!0),b(r,k,!0),b(a,E.clientX,!0);const J=document.querySelector(`.${k}-panel`);b(i,J.offsetWidth,!0),document.addEventListener("mousemove",c),document.addEventListener("mouseup",h)}function c(E){if(!l(n)||!l(r))return;const k=document.querySelector(`.${l(r)}-panel`),G=E.clientX-l(a);let J=l(i)-G;J=Math.max(100,Math.min(1e3,J)),k.style.flex=`0 0 ${J}px`}function h(){b(n,!1),b(r,null),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)}pn(()=>()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",h)});var u=Ea(),f=z(u),d=z(f);gt(d,t,"toolbar",{},null);var s=X(f,2),_=z(s),w=z(_);gt(w,t,"tools",{},E=>{var k=ya();W(E,k)});var j=X(_,2),v=z(j);gt(v,t,"default",{},null);var y=X(j,2),P=X(y,2),x=z(P);gt(x,t,"symbols",{},E=>{var k=wa();W(E,k)}),le("mousedown",y,E=>o(E,"symbols")),W(e,u),Ae()}function Sa(e,t){b(t,!l(t))}function Pa(e,t){l(t)&&(vr(l(t).id,l(t)),b(t,null))}function Ca(e,t){b(t,null)}var ka=$('<div class="empty-state svelte-hbasaq">No unassigned symbols</div>'),Ta=(e,t,n)=>t(l(n)),Ia=$('<div draggable="true"><img alt="Symbol" class="symbol-image svelte-hbasaq"></div>'),Ma=$('<div class="empty-state svelte-hbasaq">Drag symbols together to create groups</div>'),Oa=$('<input type="text" class="group-char-input svelte-hbasaq" placeholder="Char" maxlength="1"> <div class="group-actions svelte-hbasaq"><button class="action-btn svelte-hbasaq" title="Save">✓</button> <button class="action-btn cancel svelte-hbasaq" title="Cancel">×</button></div>',1),Aa=(e,t,n)=>t(l(n)),Da=$('<span class="group-char svelte-hbasaq"> </span> <button class="edit-btn svelte-hbasaq" title="Edit character">✎</button>',1),La=(e,t,n)=>t(l(n)),Na=$('<button class="details-button svelte-hbasaq">Add selected symbols</button>'),qa=(e,t,n)=>t(l(n)),Ra=(e,t,n,r)=>t(l(n).id,l(r)),ja=$('<div class="group-symbol-item svelte-hbasaq"><img alt="Group Symbol" class="symbol-image svelte-hbasaq"> <button class="remove-symbol-btn svelte-hbasaq" title="Remove from group">×</button></div>'),Ua=$('<div class="group-symbols svelte-hbasaq"></div>'),za=$('<div><div class="group-header svelte-hbasaq"><div class="group-preview svelte-hbasaq"><img class="group-preview-image svelte-hbasaq"> <div class="group-info svelte-hbasaq"><!> <span class="group-count svelte-hbasaq"> </span></div></div> <!> <button class="details-button svelte-hbasaq"> </button></div> <!></div>'),Fa=$('<div class="groups-list svelte-hbasaq"></div>'),Ga=(e,t)=>t(),Wa=(e,t)=>b(t,null),Ha=$('<div class="preview-overlay svelte-hbasaq"><div class="preview-content svelte-hbasaq"><img alt="Symbol preview"></div></div>'),Ba=$('<div class="symbol-list svelte-hbasaq"><h2 class="svelte-hbasaq">Symbols</h2> <section class="symbols-section svelte-hbasaq"><!></section> <section class="groups-section svelte-hbasaq"><h2 class="svelte-hbasaq">Symbol Groups</h2> <!> <button class="details-button svelte-hbasaq">Add new group</button></section> <!></div>');function Ya(e,t){Oe(t,!0),U(null);let n=U(!1),r=U(null),a=U(null),i=U(null),o=U(null),c=U(se([]));const h=lt(()=>A.symbols),u=lt(()=>A.groups),f=lt(()=>l(h).filter(I=>!l(u).some(D=>D.symbols.includes(I.id))));let d=U(null),s=U(null);function _(I){b(c,l(c).includes(I.id)?l(c).filter(D=>D!==I.id):[...l(c),I.id],!0)}function w(){qn([])}function j(I){b(s,l(s)?.id===I.id?null:I,!0)}function v(I){l(c).forEach(D=>{$t(I.id,D)}),b(c,[],!0)}function y(I,D){b(r,D,!0),I.dataTransfer&&(I.dataTransfer.setData("text/plain",D.id),I.dataTransfer.effectAllowed="move")}function P(I,D=null){I.preventDefault(),D&&"symbols"in D?(b(a,D,!0),b(i,null)):D&&(b(a,null),b(i,D,!0))}function x(I){if(I.preventDefault(),!!l(r))if(l(a))if(l(c).includes(l(r).id)){let D=l(a).id;l(c).forEach(Y=>{$t(D,Y)}),b(c,[],!0)}else $t(l(a).id,l(r).id);else l(i)&&l(i).id!==l(r).id&&qn([l(r).id,l(i).id])&&(b(r,null),b(a,null),b(i,null))}function E(){b(r,null),b(a,null),b(i,null)}function k(I){return l(h).find(Y=>I.symbols.includes(Y.id))?.imageUrl||null}function G(I,D){const Y=l(u).find(L=>L.id===I);if(Y){const L=Y.symbols.filter(re=>re!==D);L.length===0?Xi(Y.id):vr(Y.id,{symbols:L})}}function J(I){b(o,{...I},!0)}var te=Ba(),oe=X(z(te),2),ue=z(oe);{var g=I=>{var D=ka();W(I,D)},O=I=>{var D=Cn(),Y=rt(D);Ke(Y,17,()=>l(f),L=>L.id,(L,re)=>{var fe=Ia();let De;fe.__click=[Ta,_,re];var Xe=z(fe);Pe(Ce=>{De=ot(fe,1,"symbol-item svelte-hbasaq",null,De,Ce),at(Xe,"src",l(re).imageUrl)},[()=>({active:l(d)?.id===l(re).id,dragging:l(r)?.id===l(re).id,"drop-target":l(i)?.id===l(re).id,selected:l(c).includes(l(re).id)})]),le("dragstart",fe,Ce=>y(Ce,l(re))),le("dragover",fe,Ce=>P(Ce,l(re))),le("drop",fe,x),le("dragend",fe,E),W(L,fe)}),W(I,D)};Se(ue,I=>{l(f).length===0?I(g):I(O,!1)})}var B=X(oe,2),V=X(z(B),2);{var ce=I=>{var D=Ma();W(I,D)},ge=I=>{var D=Fa();Ke(D,21,()=>l(u),Y=>Y.id,(Y,L)=>{var re=za();let fe;var De=z(re),Xe=z(De),Ce=z(Xe),Ut=X(Ce,2),ve=z(Ut);{var zt=T=>{var S=Oa(),C=rt(S),N=X(C,2),M=z(N);M.__click=[Pa,o];var q=X(M,2);q.__click=[Ca,o],fr(C,()=>l(o).char,R=>l(o).char=R),W(T,S)},ht=T=>{var S=Da(),C=rt(S),N=z(C),M=X(C,2);M.__click=[Aa,J,L],Pe(()=>qe(N,l(L).char||"?")),W(T,S)};Se(ve,T=>{l(o)?.id===l(L).id?T(zt):T(ht,!1)})}var _t=X(ve,2),Ft=z(_t),mt=X(Xe,2);{var Gt=T=>{var S=Na();S.__click=[La,v,L],W(T,S)};Se(mt,T=>{l(c).length>0&&T(Gt)})}var pt=X(mt,2);pt.__click=[qa,j,L];var Wt=z(pt),p=X(De,2);{var m=T=>{var S=Ua();Ke(S,21,()=>l(L).symbols,jt,(C,N)=>{var M=Cn(),q=rt(M);{var R=F=>{var K=ja(),ie=z(K),be=X(ie,2);be.__click=[Ra,G,L,N],Pe(_e=>at(ie,"src",_e),[()=>l(h).find(_e=>_e.id===l(N))?.imageUrl]),W(F,K)};Se(q,F=>{l(h).find(K=>K.id===l(N))&&F(R)})}W(C,M)}),W(T,S)};Se(p,T=>{l(s)?.id===l(L).id&&T(m)})}Pe((T,S)=>{fe=ot(re,1,"group-item svelte-hbasaq",null,fe,T),at(Ce,"src",S),qe(Ft,l(L).symbols.length),qe(Wt,l(s)?.id===l(L).id?"Hide":"Details")},[()=>({active:l(s)?.id===l(L).id,"drop-target":l(a)?.id===l(L).id}),()=>k(l(L))]),le("dragover",re,T=>P(T,l(L))),le("drop",re,x),W(Y,re)}),W(I,D)};Se(V,I=>{l(u).length===0?I(ce):I(ge,!1)})}var ee=X(V,2);ee.__click=[Ga,w];var ae=X(B,2);{var ne=I=>{var D=Ha();D.__click=[Wa,d];var Y=z(D),L=z(Y);let re;L.__click=[Sa,n],Pe(fe=>{at(L,"src",l(d).imageUrl),re=ot(L,1,"preview-image svelte-hbasaq",null,re,fe)},[()=>({zoomed:l(n)})]),W(I,D)};Se(ae,I=>{l(d)&&I(ne)})}W(e,te),Ae()}vt(["click"]);var Xa=$('<button><span class="tool-icon svelte-vnzd5m"> </span></button>'),$a=$('<div class="grid-input-overlay svelte-vnzd5m"><div class="grid-input-container svelte-vnzd5m"><label for="charCount" class="svelte-vnzd5m">Número de caracteres:</label> <input type="number" id="charCount" min="1" step="1" class="svelte-vnzd5m"> <div class="button-container svelte-vnzd5m"><button class="submit-btn svelte-vnzd5m">Aceptar</button> <button class="cancel-btn svelte-vnzd5m">Cancelar</button></div></div></div>'),Va=$('<div class="tool-panel svelte-vnzd5m"><!> <!></div>');function Ka(e,t){Oe(t,!0);const n=[{id:"select",name:"Selección",icon:"◻",type:"select"},{id:"grid",name:"Cuadrícula",icon:"⊞",type:"grid"},{id:"delete",name:"Borrar",icon:"🗑",type:"delete"},{id:"search",name:"Buscar",icon:"🔍",type:"search"}];let r=U(!1),a=U(1),i=U("select");function o(s){s.id==="grid"?b(r,!0):(b(i,s.id,!0),Nn({type:s.type,charCount:0}))}function c(){b(i,"grid"),Nn({type:"grid",charCount:l(a)}),b(r,!1)}var h=Va(),u=z(h);Ke(u,17,()=>n,jt,(s,_)=>{var w=Xa();let j;var v=z(w),y=z(v);Pe(P=>{j=ot(w,1,"tool-button svelte-vnzd5m",null,j,P),at(w,"title",l(_).name),qe(y,l(_).icon)},[()=>({active:l(i)===l(_).id})]),le("click",w,()=>o(l(_))),W(s,w)});var f=X(u,2);{var d=s=>{var _=$a(),w=z(_),j=X(z(w),2),v=X(j,2),y=z(v),P=X(y,2);fr(j,()=>l(a),x=>b(a,x)),le("click",y,c),le("click",P,()=>b(r,!1)),W(s,_)};Se(f,s=>{l(r)&&s(d)})}W(e,h),Ae()}var yt=Ni(()=>A);function Za(e,t){Oe(t,!1);function n(r){yt(yt().imageTabs=[...yt().imageTabs,r])}dr(),xa(e,{children:(r,a)=>{ba(r,{get imageTabs(){return yt().imageTabs}})},$$slots:{default:!0,toolbar:(r,a)=>{ia(r,{callbackFileUpload:n})},symbols:(r,a)=>{Ya(r,{})},tools:(r,a)=>{Ka(r,{})}}}),Ae()}yi(Za,{target:document.getElementById("app")});
